# ì˜¤ëŠ˜ í•œ ì¼ğŸ”¥

- ejsë¥¼ ì´ìš©í•´ì„œ ê°„ë‹¨í•œ todo listë¥¼ ë§Œë“¤ì–´ë´¤ë‹¤!!
- í˜„ì¬ ë“£ê³  ìˆëŠ” ê°•ì˜ì—ì„œ ì±Œë¦°ì§€ë¼ê³  í•˜ëŠ” ê²ƒì´ ìˆëŠ”ë° í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ë¥¼ ì—¬ëŸ¬ë‹¨ê³„ë¡œ ë‚˜ëˆ ì„œ ë¯¸ì…˜ì„ ì£¼ê³  êº ëŠ” í˜•ì‹ìœ¼ë¡œ ì§„í–‰í•˜ê³  ìˆë‹¤!

---

# ì˜¤ëŠ˜ ëŠë‚€ ì ğŸ”¥

- í˜„ì¬ ejsì— ëŒ€í•´ì„œ ë°°ìš°ê³  ìˆëŠ”ë° ì§€ê¸ˆ ë°°ìš°ê³  ìˆëŠ” ë‹¨ê³„ì—ì„œ ìƒê°ì„ í•´ë³´ìë©´ htmlì´ í•„ìš”ê°€ ì—†ì–´ì§€ëŠ”ë° ì´ ë¶€ë¶„ì´ ì–´ë–»ê²Œ ë˜ëŠ”ê±´ì§€ ê¶ê¸ˆí•˜ë‹¤. ë¬¼ë¡  htmlì˜ í˜•ì‹ì€ ë‹¤ë£¨ê² ì§€ë§Œ íŒŒì¼ì˜ í™•ì¥ìê°€ htmlì¸ íŒŒì¼ì€ í•„ìš”ê°€ ì—†ì–´ì§„ë‹¤. ì´ê²Œ ë§ëŠ”ê±´ê°€??

---

### Redirect

```jsx
app.get("/", function (req, res) {
  let today = new Date();
  let options = { weekday: "long", month: "long", day: "numeric" };
  let day = today.toLocaleDateString("en-US", options);

  res.render("list", { currentDay: day, newListItems: items });
});

app.post("/", function (req, res) {
  var item = req.body.newItem;

  items.push(item);
  res.redirect("/");         // "/" ì´ ê²½ë¡œë¥¼ ì¬ìš”ì²­í•©ë‹ˆë‹¤.
});
```

- `redirect("/")` ë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ `post` ìš”ì²­ì´ ë°œìƒí–ˆì„ë•Œ ë‹¤ì‹œ í™ˆ ë£¨íŠ¸ë¥¼ ìš”ì²­í•´ì„œ ì¶”ê°€ëœ ë‚´ìš©ì„ ë³´ì—¬ì¤„ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

---

### ejs layout

- ì—¬ëŸ¬ í˜ì´ì§€ë¥¼ ë§Œë“¤ ë•Œ ë§¤ë²ˆ ë°˜ë³µë˜ëŠ” ë¶€ë¶„ì„ ë‹¤ì‹œ ì¼ì¼ì´ ë¶™ì—¬ë„£ê¸°ëŠ” ë²ˆê±°ë¡­ê¸° ë•Œë¬¸ì— í…œí”Œë¦¿ì„ ë§Œë“¤ì–´ ë†“ëŠ”ë‹¤.

```jsx
// header ejs

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>To Do List</title>
  <link rel="stylesheet" href="../css/styles.css" />
  <script src="../app.js" defer></script>
</head>

<body>
```

```jsx
// footer ejs

</body>

<footer>
  Copyright 2020 jehyuksong
</footer>

</html>
```

- ìœ„ì™€ ê°™ì´ `header` , `footer` ë¥¼ ë§Œë“¤ì–´ë†“ê³  ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ì¶”ê°€í•  ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì´ ë„£ëŠ”ë‹¤.

```jsx
<%- include('header') -%>       // header.ejsê°€ ì¶”ê°€ë¨.

<h1>fdasfasfas</h1>
<p>fdsafsadfasfasd</p>

<%- include('footer') -%>       // footer.ejsê°€ ì¶”ê°€ë¨.
```

- ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ `<%- include("ì¶”ê°€í•  íŒŒì¼") -%>` ì„ ì´ìš©í•´ì„œ í¸ë¦¬í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

---

# Module

- í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ì–´ë””ì—ì„œë‚˜ ì¬ì‚¬ìš©ì´ ê°€ëŠ¥í•œ `ëª¨ë“ˆ` ì´ë¼ëŠ” ê²ƒì´ ìˆë‹¤.
- í•˜ë‚˜ íŒŒì¼ì—ì„œ `ë¼ìš°íŠ¸('/')` ë¥¼ ì •í™•íˆ ì•Œì•„ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì´ ì•„ë‹Œ ë‹¤ë¥¸ ë‚´ìš©ë“¤ì´ ë§ì•„ì§€ë©´ ë³µì¡í•´ì§„ë‹¤.
- ì´ëŸ´ ë•Œ ëª¨ë“ˆì„ ì´ìš©í•œë‹¤.

```jsx
// date.jsë¥¼ ë§Œë“ ë‹¤.

module.exate = getDate;
module.exports.getDay = getDay;

function getDate() {
  let today = new Date();
  let options = { weekday: "long", month: "long", day: "numeric" };
  return today.toLocaleDateString("en-US", options);
}

function getDay() {
  let today = new Date();
  let options = { day: "numeric" };
  return today.toLocaleDateString("en-US", options);
}
```

```jsx
// ìœ„ì˜ ì½”ë“œë¥¼ ì•„ë˜ì²˜ëŸ¼ ë” ê°„ê²°í•˜ê²Œ ì“¸ ìˆ˜ ìˆë‹¤.

exports.getDate = function () {       // ìµëª…í•¨ìˆ˜ë¡œ ë°”ê¾¸ê³ , module ì´ë¼ëŠ” ê¸€ìë¥¼ ìƒëµí•œë‹¤.
  const today = new Date();
  const options = { weekday: "long", month: "long", day: "numeric" };
  return today.toLocaleDateString("en-US", options);
};

exports.getDay = function getDay() {
  const today = new Date();
  const options = { day: "numeric" };
  return today.toLocaleDateString("en-US", options);
};
```

- ìœ„ì™€ ê°™ì€ `ëª¨ë“ˆ`ì„ ë§Œë“¤ì–´ë†“ëŠ”ë‹¤.
- moduleì´ë¼ëŠ” ê¸€ìëŠ” ìƒëµì´ ê°€ëŠ¥í•˜ê³  í•¨ìˆ˜ë¥¼ `exports` í•˜ë©´ì„œ ë™ì‹œì— ìµëª…í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì„œ ê¸¸ì´ë¥¼ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```jsx
const date = require(__dirname + "/date.js");  // ëª¨ë“ˆì„ ë¶ˆëŸ¬ì˜¨ë‹¤.

console.log(date.getDate());          // Saturday, August 22
console.log(date.getDay());           // 22
```

- `ëª¨ë“ˆ`ì„ ë‹¤ë¥¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì—ì„œ ì¶œë ¥í•  ìˆ˜ ìˆë‹¤.
- `ëª¨ë“ˆ`ì€ `ê°ì²´` ì´ê¸°ë•Œë¬¸ì— í•˜ë‚˜ì˜ `date.js` ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ê·¸ì•ˆì— ì—¬ëŸ¬ ê¸°ëŠ¥ì„ `.getDate` , `.getDay` ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---
