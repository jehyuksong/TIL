# ì˜¤ëŠ˜ í•œ ì¼ğŸ”¥

- nodejs, express, mailchimp APIë¥¼ ì´ìš©í•´ì„œ ë°±ì—”ë“œë¥¼ êµ¬ì„±í•˜ê³  ì´ë¦„ê³¼ ì´ë©”ì¼ ì •ë³´ë¥¼ ë°›ëŠ” ì›¹í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ë´¤ë‹¤.
- Herokuë¥¼ í†µí•´ì„œ ì‹¤ì œë¡œ ì„œë²„ë¥¼ ë°°í¬í•´ë´¤ë‹¤!!

---

# ì˜¤ëŠ˜ ëŠë‚€ ì ğŸ”¥

- ë°±ì—”ë“œì™€ ì„œë²„ë¼ëŠ” ê²Œ ì–¼ë§ˆ ì „ê¹Œì§€ëŠ” ì•„ì˜ˆ ë„ˆë¬´ë‚˜ ë§‰ë§‰í–ˆëŠ”ë° ì¡°ê¸ˆì”© ì•Œì•„ê°€ë‹ˆê¹Œ ìƒê°ë³´ë‹¤ëŠ” ê³µë¶€í• ë§Œ í•˜ê² ë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆë‹¤!
- ê°•ì˜ì—†ì´ í˜¼ì í•´ë³´ë ¤ê³  í•˜ë©´ ë§¤ ìˆœê°„ ì–´ë µê³  ë§‰íŒë‹¤.......
- í•˜ì§€ë§Œ ë¬´ì—‡ë³´ë‹¤ ë„ˆë¬´ ì¬ë°Œë‹¤ ğŸ˜

---

# ìƒí™œì½”ë”© ì½”ë”©ì•¼í•™ [ë¨¸ì‹ ëŸ¬ë‹] ëª¨ë‘ ë§ˆì¹˜ë©°

- ì´ ìˆ˜ì—…ì„ ë“£ê¸° ì „ì—ëŠ” ì¸ê³µì§€ëŠ¥ì´ ë¬´ì—‡ì¸ì§€ ë¨¸ì‹ ëŸ¬ë‹ì´ ë¬´ì—‡ì¸ì§€ ì•Œì§€ ëª»í•˜ëŠ” ìƒíƒœì˜€ë‹¤.
ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë‚˜í•œí…Œ ì¸ê³µì§€ëŠ¥ì´ë¼ëŠ” ê¸°ìˆ ì´ í•„ìš”í•œ ê¸°ìˆ ì¸ì§€, í˜¹ì€ ë‚´ê°€ ì¸ê³µì§€ëŠ¥ì„ ì´ìš©í•´ì„œ ë¬´ì—‡ì„ í•  ìˆ˜ ìˆëŠ” ê²ƒì¸ì§€ ëª¨ë¥´ë˜ ìƒíƒœì˜€ë‹¤ëŠ” ë§ê³¼ ê°™ë‹¤.

ë¬¼ë¡  ë‚´ê°€ ì´ ìˆ˜ì—…ì„ ëëƒˆë‹¤ê³  í•´ì„œ ì¸ê³µì§€ëŠ¥ì— ëŒ€í•œ ê¸°ìˆ ì´ ëŠ˜ì–´ë‚œ ê²ƒì€ ì•„ë‹ˆë‹¤.
í•˜ì§€ë§Œ, ë‚´ê°€ ë‹¤ìŒì— ë¬´ì–¸ê°€ í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ì§€ê¸ˆ ë°°ì› ë˜ ë¨¸ì‹ ëŸ¬ë‹ì„ ë– ì˜¬ë¦¬ë©°,
ë¬¸ì œì— ëŒ€ì…í•´ë³´ê³  ê·¸ ì•ˆì—ì„œ ì–´ë– í•œ íŒŒíŠ¸ë¥¼ ê³µë¶€í•´ì•¼ í•˜ëŠ” ì§€, í˜¹ì€ ì–´ë–¤ ê¸°ìˆ ì„ ê°€ì§„ ì‚¬ëŒì´ í•„ìš”í•œ ì§€ë¥¼ ì•Œ ìˆ˜ ìˆê²Œ ëœ ê²ƒì´ë‹¤.

ì´ê²ƒì´ ë‚´ê°€ ì½”ë”©ì•¼í•™ì„ ì‹ ì²­í•´ì„œ ìˆ˜ê°•í–ˆë˜ ëª©ì ì´ì—ˆê¸° ë•Œë¬¸ì— ê·¸ì— ê±¸ë§ì€ ê°€ì„±ë¹„ ì¢‹ê³  ì„±ê³µì ì¸ ìˆ˜ì—…ì´ì—ˆë‹¤. ìˆ˜ì—… ì˜¤í”ˆì„ ìœ„í•´ì„œ í˜ ì¨ì£¼ì‹  ë¶„ë“¤ ë‹¤ë“¤ ê°ì‚¬í•©ë‹ˆë°ì´!

---

# JSON

### parse

`JSON.parse(data)` 

- string ê°ì²´ë¥¼ jsonê°ì²´ë¡œ ë³€í™˜ì‹œì¼œì¤€ë‹¤.

### stringify

`JSON.stringify(data)` 

- json ê°ì²´ë¥¼ string ê°ì²´ë¡œ ë³€í™˜ì‹œì¼œì¤€ë‹¤.

# res.send , res.write

```jsx
app.get("/", function (req, res) {
  const url = "https://api.openweathermap.org/data/2.5/weather?q=Korea&appid=c82c3f6c6bd33fc2c13a04ae34366a9c&units=metric";

  https.get(url, function (response) {
    console.log(response.statusCode);

    response.on("data", function (data) {
      const weatherData = JSON.parse(data);
      const temp = weatherData.main.temp;
      const weatherDescription = weatherData.weather[0].description;
			// sendëŠ” í•œë²ˆë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
      res.send(`<h1> The weather is currently ${weatherDescription}`);
      res.send(`<h1>the tempertature in Korea is ${temp} degrees Celcius</h1> `);
    });  
  });
});
```

```jsx
app.get("/", function (req, res) {
  const url = "https://api.openweathermap.org/data/2.5/weather?q=Korea&appid=c82c3f6c6bd33fc2c13a04ae34366a9c&units=metric";

  https.get(url, function (response) {
    console.log(response.statusCode);

    response.on("data", function (data) {
      const weatherData = JSON.parse(data);
      const temp = weatherData.main.temp;
      const weatherDescription = weatherData.weather[0].description;
			// ì•„ë˜ì™€ ê°™ì´ ë°”ê¿”ì„œ ëª¨ë‘ ì¶œë ¥ì„ í•  ìˆ˜ ìˆë‹¤.
      res.write(`<h1> The weather is currently ${weatherDescription}`);
      res.write(`<h1>the tempertature in Korea is ${temp} degrees Celcius</h1> `);
      res.send();
    });
  });
});
```

- sendëŠ” í•œë²ˆë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— writeë¡œ ì‘ì„±í•´ë†“ê³  sendë¡œ í˜¸ì¶œì„ í•´ì•¼í•œë‹¤.

### css ì‚¬ìš©í•˜ê¸°

```jsx
app.use(express.static("public"));
```

- vscodeì—  publicì´ë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ì•ˆì— cssë¥¼ ë§Œë“¤ì–´ì„œ ë³´ê´€í•œ ë’¤, ìœ„ì™€ ê°™ì´ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.
- images ë˜í•œ public ì•ˆì— ë„£ì–´ë†“ëŠ”ë‹¤.

### static íŒŒì¼ ì „ì†¡

- css, javascript, images ê°™ì€ íŒŒì¼ë“¤ ë³€ê²½ë˜ì§€ ì•ŠëŠ” íŒŒì¼ë“¤ì„ ì„œë²„ë¡œ ì „ì†¡í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```jsx
const express = require("express");
const app = express();
const port = 3000;

app.use(express.static(__dirname + "/public"));     // static íŒŒì¼ì˜ ê¸°ë³¸ ê²½ë¡œë¥¼ ì„¤ì •í•´ì¤Œ

app.get("/", function (req, res) {
  res.sendFile(__dirname + "/public/index.html");
});

app.listen(port, function () {
  console.log(`server is running on port ${port}...`);
});
```

### htmlì— ì…ë ¥í•˜ê¸°

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main</title>
    <script src="main.js" defer></script>
  </head>
  <body>
    <h1>main page</h1>
    <img src="images/chillies.png" alt="" />   
        <!--staticì˜ ê¸°ë³¸ê²½ë¡œê°€ publicì´ê¸° ë•Œë¬¸ì— public ë’¤ë¶€í„° ì…ë ¥í•´ì¤Œ-->
    <p>hello</p>
  </body>
</html>
```

# Heroku ì„œë²„ ì—°ë™í•˜ê¸°

- ì„œë²„ë¥¼ 24ì‹œê°„ ì„ëŒ€í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ì‚¬ì´íŠ¸ ì´ìš©ìê°€ ë„ˆë¬´ ë§ì•„ì ¸ í™•ì¥í•´ì•¼ í•˜ì§€ ì•ŠëŠ” ì´ìƒ ë¬´ë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### Heroku íšŒì›ê°€ì…í•˜ê¸°

- [link]([https://www.heroku.com](https://heroku.com/)) ì„ ë“¤ì–´ê°€ì„œ íšŒì›ê°€ì…ì„ í•œë‹¤. ê·¸ ë’¤ì— get startedì˜ ìˆœì„œëŒ€ë¡œ ë”°ë¼ê°€ë©´ ëœë‹¤. ì•„ë˜ ìˆœì„œëŒ€ë¡œ ì„¤ëª…í•´ì¤„ ê²ƒì´ë‹¤.

### Heroku ë¡œê·¸ì¸í•˜ê¸°

```jsx
$heroku login     // ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ CLIë¥¼ ì´ìš©í•´ì„œ ì…ë ¥í•œë‹¤.
```

### í¬íŠ¸ì„¤ì •

```jsx
// ì„œë²„í¬íŠ¸ë¥¼ herokuì—ì„œ ì£¼ëŠ” í¬íŠ¸ì™€ ë¡œì»¬ì—ì„œ ì‚¬ìš©í•  3000 í¬íŠ¸ ë‘˜ë‹¤ ì ì–´ì„œ ì‚¬ìš©í•œë‹¤.
app.listen(process.env.PORT || 3000, function () {
  console.log(`Server is running on port ${port}...`);
});
```

### Procfile ì„¤ì •

```jsx
// ë£¨íŠ¸í´ë”ì— Procfile ì„ ë§Œë“¤ê³ 
$touch Procfile

// ì•ˆì— ì •í•´ì§„ í˜•ì‹ì— ë”°ë¼ ë³¸ì¸ì˜ ì„œë²„ íŒŒì¼ì´ë¦„ì„ ë„£ëŠ”ë‹¤.
web: node app.js 
```

 

### git ì—°ë™í•˜ê¸°

```jsx
$git init
$git add .
$git commit -m "first heroku server"
```

### ì•± ë°°í¬í•˜ê¸°

```jsx
$heroku create       // ìƒˆë¡œìš´ ì•±ì„ ìƒì„±í•œë‹¤.
										 // herokuì—ì„œ ì£¼ì†Œë¥¼ ë§Œë“¤ì–´ì„œ ì•Œë ¤ì¤€ë‹¤.
```

- ì£¼ì†Œë¥¼ ì»¤ë§¨ë“œ í´ë¦­í•´ì„œ ë“¤ì–´ê°€ë³´ë©´ ìƒˆë¡œìš´ ì•±ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ë¼ê³  ëœ¨ë©´ì„œ ì»¨í…ì¸ ê°€ ì—†ë‹¤ê³  í•  ê²ƒì´ë‹¤. ì´ì–´ì„œ ì§„í–‰í•˜ê² ë‹¤.

```jsx
$git push heroku master     // master ë²„ì „ì„ ì˜¬ë¦°ë‹¤.
```

- ê·¸ ë’¤ì— ì•„ê¹Œ ë“¤ì–´ê°”ë˜ ì£¼ì†Œë¡œ ë“¤ì–´ê°€ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì—ëŸ¬ê°€ ëœ° ìˆ˜ë„ ìˆë‹¤.
- herokuì—ì„œ ê·¸ê²ƒë“¤ ë°›ì•„ì„œ ì²˜ë¦¬í•˜ëŠ” ë°ì— ì‹œê°„ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì— 5~10ë¶„ ì •ë„ ë’¤ì— ë‹¤ì‹œ ë“¤ì–´ê°€ë³´ë©´ ë¡œì»¬ì—ì„œ ì‹¤í–‰í–ˆë˜ íŒŒì¼ê³¼ ë˜‘ê°™ì´ ì‹¤í–‰ë  ê²ƒì´ë‹¤.

```jsx
$heroku logs  // ì• í”Œë¦¬ì¼€ì´ì…˜ ì—ëŸ¬ê°€ ì§€ì†ë  ê²½ìš° ì…ë ¥í•´ì„œ ì˜ëª»ëœ ë¶€ë¶„ì´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.
							// port ë‚˜ Procfileì— ì˜¤íƒ€ê°€ ìˆëŠ”ì§€ë„ í™•ì¸í•´ë³¸ë‹¤.
```

- ìˆ˜ì •ì„ ì™„ë£Œí–ˆë‹¤ë©´

```jsx
$git add .
$git commit -m "(message)"
$git push heroku master
```

- ì˜ ìˆœì„œëŒ€ë¡œ ë‹¤ì‹œ í‘¸ì‹œí•´ì¤€ë‹¤!
- ì™„ì„±!
